<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page_title }} - AuraAllocate</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #0a0e17; color: #e2e8f0; font-family: 'Segoe UI', sans-serif; padding: 2rem; }
        .admin-panel { background: #1f2937; border-radius: 1.5rem; padding: 3rem; max-width: 800px; margin: 0 auto; box-shadow: 0 20px 50px rgba(0,0,0,0.6); text-align: center; }
        .stats { display: flex; justify-content: space-around; margin: 2rem 0; flex-wrap: wrap; }
        .stat-item { background: #334155; border-radius: 1rem; padding: 1.5rem; min-width: 200px; margin: 1rem; }
        .btn-run { 
            background: linear-gradient(to right, #ef4444, #dc2626); 
            border: none; border-radius: 50px; padding: 1.5rem 4rem; font-size: 1.5rem;
            box-shadow: 0 15px 40px rgba(239, 68, 68, 0.5);
        }
        .btn-run:hover { transform: translateY(-5px); box-shadow: 0 20px 50px rgba(239, 68, 68, 0.7); }
        .warning { background: #7f1d1d; border-radius: 1rem; padding: 1.5rem; margin: 2rem 0; }
    </style>
</head>
<body>
    <div class="admin-panel">
        <h1>Admin Allocation Run</h1>
        <p class="lead">Run the intelligent allocation algorithm to assign courses based on student preferences and capacity limits.</p>

        <div class="stats">
            <div class="stat-item">
                <h3>{{ total_students }}</h3>
                <p>Students</p>
            </div>
            <div class="stat-item">
                <h3>{{ total_courses }}</h3>
                <p>Courses</p>
            </div>
            <div class="stat-item">
                <h3>{{ total_preferences }}</h3>
                <p>Preferences Submitted</p>
            </div>
        </div>

        <div class="warning">
            <strong>Warning:</strong> This will clear all current enrollments and re-assign courses from scratch.
        </div>

        <form method="post">
            {% csrf_token %}
            <button type="submit" class="btn btn-run text-white">
                Run Allocation Now
            </button>
        </form>

        <p class="mt-4 text-muted">After running, students and lecturers will see updated timetables and results.</p>
    </div>
</body>
</html>